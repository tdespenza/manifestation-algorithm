#!/usr/bin/env sh
# Pre-commit hook — lint, format, and typecheck.
# Version bumping is handled in the commit-msg hook (needs the commit message).

set -e

echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "  Pre-commit checks"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"

echo ""
echo "▶ [1/4] Lint-staged (auto-fix staged files)..."
npx lint-staged

echo ""
echo "▶ [2/4] Naming convention check..."
npm run naming:check

echo ""
echo "▶ [3/4] ESLint check..."
npm run lint:check

echo ""
echo "▶ [4/4] Prettier format check..."
npm run format:check

echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "  ✓ Pre-commit checks passed."
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""
